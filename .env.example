# DDN AI Test Analysis System - Environment Configuration Template
# Copy this file to .env and fill in your own values
# NEVER commit .env to git - it contains sensitive credentials

# ============================================================================
# ENVIRONMENT
# ============================================================================
ENV=development
DEBUG=false
LOG_LEVEL=INFO

# ============================================================================
# DATABASE - PostgreSQL (Primary)
# ============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=ddn_ai_db
POSTGRES_USER=ddn_user
POSTGRES_PASSWORD=your_secure_postgres_password_here
POSTGRES_POOL_SIZE=20
POSTGRES_MAX_OVERFLOW=40

# ============================================================================
# DATABASE - MongoDB Atlas (Failure Reporting)
# ============================================================================
MONGODB_ATLAS_URI=mongodb+srv://username:password@cluster.mongodb.net/ddn_failures
MONGODB_TIMEOUT=5000

# ============================================================================
# REDIS (Cache & Task Queue)
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_CACHE_TTL=3600
REDIS_CELERY_BROKER=redis://localhost:6379/0

# ============================================================================
# LLM PROVIDERS - Claude (Primary)
# ============================================================================
ANTHROPIC_API_KEY=sk-ant-your-key-here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# ============================================================================
# LLM PROVIDERS - OpenAI (Fallback)
# ============================================================================
OPENAI_API_KEY=sk-your-openai-key-here
OPENAI_MODEL=gpt-4

# ============================================================================
# LLM PROVIDERS - Gemini (Secondary)
# ============================================================================
GOOGLE_API_KEY=your-google-gemini-key-here
GEMINI_MODEL=gemini-2.0-flash

# ============================================================================
# VECTOR DATABASE - Pinecone (RAG Dual Index)
# ============================================================================
PINECONE_API_KEY=your-pinecone-key-here
PINECONE_ENVIRONMENT=us-east-1
PINECONE_INDEX_REASONING=ddn-reasoning-index
PINECONE_INDEX_SYNTHESIS=ddn-synthesis-index
PINECONE_NAMESPACE=default
VECTOR_DIMENSION=1536

# ============================================================================
# EXTERNAL SERVICES - n8n Workflow Automation
# ============================================================================
N8N_HOST=http://localhost:5678
N8N_API_KEY=your-n8n-api-key-here
N8N_WEBHOOK_URL=http://localhost:5678/webhook/ddn-ai-triggers

# ============================================================================
# EXTERNAL SERVICES - Jenkins CI/CD
# ============================================================================
JENKINS_URL=http://localhost:8080
JENKINS_USERNAME=admin
JENKINS_TOKEN=your-jenkins-api-token-here
JENKINS_JOB_NAME=DDN-AI-Test-Analysis

# ============================================================================
# EXTERNAL SERVICES - GitHub Integration
# ============================================================================
GITHUB_TOKEN=ghp_your-github-personal-access-token
GITHUB_REPO=Sushrut-01/ddn-ai-test-analysis
GITHUB_WEBHOOK_SECRET=your-webhook-secret-here

# ============================================================================
# EXTERNAL SERVICES - Apify (Web Scraping)
# ============================================================================
APIFY_API_TOKEN=your-apify-token-here
APIFY_ACTOR_ID=your-actor-id-here

# ============================================================================
# LLM OBSERVABILITY - Langfuse (LLM Monitoring)
# ============================================================================
LANGFUSE_ENABLED=true
LANGFUSE_HOST=http://localhost:3000
LANGFUSE_PUBLIC_KEY=your-langfuse-public-key
LANGFUSE_SECRET_KEY=your-langfuse-secret-key
LANGFUSE_VERSION=1.0

# ============================================================================
# APPLICATION SERVICES
# ============================================================================
# API Backend
API_HOST=0.0.0.0
API_PORT=5000
API_WORKERS=4

# Dashboard Frontend
DASHBOARD_PORT=5173
DASHBOARD_HOST=0.0.0.0

# Service Manager
SERVICE_MANAGER_PORT=5004
SERVICE_MANAGER_HOST=0.0.0.0

# RAG Service
RAG_SERVICE_PORT=5006
RAG_SERVICE_HOST=0.0.0.0

# ============================================================================
# CELERY TASK QUEUE
# ============================================================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_PREFETCH_MULTIPLIER=2

# ============================================================================
# RAG CONFIGURATION
# ============================================================================
RAG_ROUTING_STRATEGY=dual_index_80_20
RAG_CONFIDENCE_THRESHOLD=0.7
RAG_TOP_K=5
RAG_MAX_TOKENS_CONTEXT=2000
RAG_ENABLE_CRAG=true

# ============================================================================
# LANGRAPH AGENT CONFIGURATION
# ============================================================================
LANGGRAPH_NODES=7
LANGGRAPH_ROUTE_TYPE=react
LANGGRAPH_ENABLE_TOOL_USE=true
LANGGRAPH_MAX_ITERATIONS=10
LANGGRAPH_TIMEOUT_SECONDS=300

# ============================================================================
# SECURITY
# ============================================================================
SECRET_KEY=your-super-secret-key-for-sessions-and-tokens
JWT_SECRET=your-jwt-secret-key
JWT_EXPIRATION_HOURS=24
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000
RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_ADVANCED_RAG=true
ENABLE_CRAG_SCORING=true
ENABLE_MULTI_LLM_FALLBACK=true
ENABLE_LANGFUSE_MONITORING=true
ENABLE_JENKINS_INTEGRATION=true
ENABLE_GITHUB_INTEGRATION=true

# ============================================================================
# NOTIFICATIONS
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM=ddn-ai-system@example.com

# ============================================================================
# ANALYTICS
# ============================================================================
ANALYTICS_ENABLED=true
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# ============================================================================
# DEPLOYMENT
# ============================================================================
DOCKER_REGISTRY=docker.io
DOCKER_IMAGE_TAG=latest
DEPLOYMENT_ENV=local
AUTO_RESTART_CONTAINERS=true

# ============================================================================
# LOGGING
# ============================================================================
LOG_FORMAT=json
LOG_FILE_PATH=./logs/ddn-ai.log
LOG_FILE_MAX_SIZE=10485760
LOG_FILE_BACKUP_COUNT=10
