{
  "permissions": {
    "allow": [
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" logs ddn-jira --tail 5)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" logs ddn-slack --tail 5)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" logs ddn-jira)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" logs ddn-dashboard-api --tail 10)",
      "Bash(powershell:*)",
      "Bash(# Use Jenkins CLI with credentials java -jar jenkins-cli.jar -s http://localhost:8081/ -auth admin:admin123 list-jobs echo \"\"---\"\" # Get job details for DDN-Nightly-Tests java -jar jenkins-cli.jar -s http://localhost:8081/ -auth admin:admin123 get-job DDN-Nightly-Tests)",
      "Bash(taskkill:*)",
      "Bash(docker restart:*)",
      "Bash(docker logs:*)",
      "Bash(docker exec:*)",
      "Bash(docker compose:*)",
      "Bash(docker ps:*)",
      "Bash(curl:*)",
      "Bash(npm run build:*)",
      "Bash(cat:*)",
      "Bash(java -jar jenkins-cli.jar:*)",
      "Bash(python -m json.tool:*)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" logs ddn-jira --tail 20)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" ps)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" exec ddn-postgres psql -U postgres -d ddn_test_results -c \"\\d failure_analysis\")",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" exec ddn-postgres psql:*)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" exec ddn-postgres psql -U postgres -d ddn_ai_analysis -c \"\\d jira_bugs\")",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" ps --format \"table {{.Names}}\\t{{.Status}}\")",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" compose -f docker-compose-unified.yml up -d dashboard-ui)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" compose -f docker-compose-unified.yml restart dashboard-api)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" exec ddn-postgres psql -U postgres -d ddn_ai_analysis -c \"SELECT id, build_id, error_category, confidence_score, trigger_type, analyzed_at FROM failure_analysis WHERE build_id = ''DDN-Advanced-Tests-398'' ORDER BY analyzed_at DESC LIMIT 3;\")",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" compose -f docker-compose-unified.yml up -d --build dashboard-api)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" exec ddn-postgres psql -U postgres -d ddn_ai_analysis -c \"\\d manual_trigger_log\")",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" exec ddn-postgres psql -U postgres -d ddn_ai_analysis -c \"SELECT id, build_id, error_category, root_cause, fix_suggestion, confidence_score FROM failure_analysis WHERE id = 28;\")",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" logs ddn-dashboard-api --tail 50)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" exec ddn-postgres psql -U postgres -d ddn_ai_analysis -c \"\\d failure_analysis\")",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" logs:*)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" logs ddn-manual-trigger --tail 50)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" exec ddn-manual-trigger env)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" compose -f docker-compose-unified.yml up -d --build manual-trigger-api)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" compose -f docker-compose-unified.yml build --no-cache manual-trigger-api)",
      "Bash(export ANDROID_HOME=/c/Android)",
      "Bash(export ANDROID_SDK_ROOT=/c/Android:*)",
      "Bash(/c/Android/cmdline-tools/latest/bin/sdkmanager.bat:*)",
      "Bash(/c/flutter/bin/flutter doctor:*)",
      "Bash(/c/flutter/bin/flutter build:*)",
      "Bash(\"/c/Program Files/Rancher Desktop/resources/resources/win32/bin/docker.exe\" logs ddn-dashboard-ui --tail 30)"
    ],
    "deny": [],
    "ask": []
  },
  "outputStyle": "default",
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": [
        "-y",
        "@ejazullah/mcp-playwright@latest"
      ],
      "env": {
        "PLAYWRIGHT_BROWSERS_PATH": "0"
      }
    }
  },
  "agents": {
    "playwright-test-generator": {
      "description": "Automatically generates Playwright test scripts from user interactions and requirements",
      "prompt": "You are a Playwright Test Generator agent. Your role is to create comprehensive E2E test scripts. When the user describes a test scenario, you:\n1. Analyze the Dashboard UI at http://localhost:5173\n2. Generate Playwright test code with proper selectors\n3. Include assertions and wait conditions\n4. Save tests to tests/ui/generated/\n5. Use the MCP Playwright tools to interact with the browser\n\nAlways use flexible selectors (text, role, CSS) and add comments explaining each step."
    },
    "playwright-test-healer": {
      "description": "Automatically repairs failing Playwright tests by detecting and fixing selector issues",
      "prompt": "You are a Playwright Test Healer agent. Your role is to fix failing tests. When a test fails:\n1. Analyze the error message and failed selector\n2. Try alternative selector strategies:\n   - CSS fallback (different CSS selectors)\n   - XPath fallback\n   - Text-based selectors (/text/i)\n   - Role-based selectors (getByRole)\n3. Update the test file with the working selector\n4. Add a comment explaining the fix\n5. Retry the test to confirm\n\nMax 3 retry attempts. Document all strategies tried."
    },
    "playwright-test-planner": {
      "description": "Plans test scenarios and generates test suites from requirements in Gherkin format",
      "prompt": "You are a Playwright Test Planner agent. Your role is to create test plans. When given a feature or requirement:\n1. Analyze the Dashboard UI structure\n2. Create a test plan in Gherkin format (Given/When/Then)\n3. Break down into scenarios:\n   - Happy path\n   - Edge cases\n   - Error scenarios\n   - Accessibility checks\n4. Map scenarios to Playwright test structure\n5. Save to tests/ui/plans/\n\nInclude estimated execution time and priority for each scenario."
    },
    "qa-dashboard-tester": {
      "description": "Specialized agent for testing the DDN Dashboard UI end-to-end",
      "prompt": "You are a QA Dashboard Testing agent specialized in the DDN AI Test Failure Analysis Dashboard. Your role:\n1. Test Dashboard features:\n   - Manual Analysis trigger (button: 'Trigger Analysis')\n   - Failure list and details\n   - Service status indicators\n   - Analytics and charts\n2. Verify API endpoints (port 5006)\n3. Check UI responsiveness\n4. Validate data display\n5. Test error handling\n\nUse Playwright MCP tools. Dashboard URL: http://localhost:5173, API: http://localhost:5006"
    }
  }
}
